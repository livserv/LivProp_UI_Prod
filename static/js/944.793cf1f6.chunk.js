"use strict";(self.webpackChunklib_prop_ui=self.webpackChunklib_prop_ui||[]).push([[944],{82921:(t,n,o)=>{o.r(n),o.d(n,{default:()=>d});var e=o(9950),c=o(28429),i=o(32026),a=o(8478),s=o(15820),r=o(78023),_=o(44414);const d=function(){const{organizationId:t,botId:n,recipientId:o,chatId:d}=(0,c.g)(),[E,u]=e.useState();return e.useEffect((()=>{a.Jt("/bot/".concat(t,"/").concat(n,"/chat/history/").concat(o,"/").concat(d,"?includeBot=1")).then((t=>{var n;const o=(0,i.Yq)(null===(n=t.messages[0])||void 0===n?void 0:n.createdAt);t.botDesign=(0,r.Y)(t.botDesign,{window:{width:"600px",height:"calc(100vh - 120px)"},header:{titleText:o+" (".concat(t.titleText,")")}}),u(t)}),(t=>{console.error("Unable to load chat conversations:",t)}))}),[t,n,o,d]),E?(0,_.jsx)("div",{className:"conversation-history",children:(0,_.jsx)(s.A,{botDesign:E.botDesign,messages:E.messages,showTime:!0})}):(0,_.jsx)("div",{children:"Loading... Please wait..."})}},8478:(t,n,o)=>{o.d(n,{Jt:()=>i,Ne:()=>E,TF:()=>r,bE:()=>a,yJ:()=>s});var e=o(32026),c=o(44364);async function i(t,n){return _("GET",t,n,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function a(t,n){return _("POST",t,n,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function s(t,n){return _("PUT",t,n,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function r(t,n){return _("DELETE",t,n,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function _(t,n,o){let{headers:e,noAuth:c,...i}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const a="POST"===t||"PUT"===t||"DELETE"===t;n=E(n,a?void 0:o);const s=o instanceof FormData;if(s||(o=o&&"object"===typeof o&&a?JSON.stringify(o):void 0),e||(e={}),s||(e["Content-Type"]="application/json"),e.Accept="application/json",!1!==c){const t=sessionStorage.getItem("token");t&&(e.Authorization="Bearer ".concat(t))}try{const c=await fetch(n,{...i,headers:e,body:o,method:t}),a=await c.json();if(c.ok){const{data:t,...n}=a;return delete n.status,t&&!Object.keys(n).length?t:a}throw a.message?new Error(a.message):a}catch(_){var r;throw console.error("Error calling API: ",_),null!==(r=_.message)&&void 0!==r&&r.includes("fetch")?new Error("Unable to reach server. Please check your network connectivity and try again."):new Error(_.message)}}const d=(0,e.s8)(c.jn,"/");function E(t,n){if(!t)return t;const o=n&&Object.keys(n);if(null!==o&&void 0!==o&&o.length){const e=o.reduce(((t,o)=>{let e=n[o];return null===e||void 0===e?t:(e="".concat(o,"=").concat(encodeURIComponent(e)),t?"".concat(t,"&").concat(e):e)}),"");e&&(t="".concat(t).concat(t.includes("?")?"&":"?").concat(e))}return t.startsWith("https://")?t:"".concat(d).concat(t)}},32026:(t,n,o)=>{function e(t,n){return t.replace(new RegExp("".concat(c(n),"+$")),"")}function c(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function i(t){const n=new Date(t),o=n.getDate(),e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][n.getMonth()],c=n.getFullYear();return"".concat(e," ").concat(o,", ").concat(c)}function a(t,n,o){if(!n&&!t)return o;t=t||{};const e=Array.isArray(t)?[...t]:{...t};if(n.includes(".")){const c=n.indexOf("."),i=n.substring(0,c),s=n.substring(c+1);e[i]=a(t[i],s,o)}else e[n]=o;return e}function s(t,n){return btoa("".concat(t,"_").concat(n,"_whatsapp_int"))}o.d(n,{G6:()=>a,Yq:()=>i,qW:()=>s,s8:()=>e})},44364:(t,n,o)=>{o.d(n,{DX:()=>s,Og:()=>i,jn:()=>e,pA:()=>a,pR:()=>c});const e="https://backend.livhousing.com",c={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"1",REACT_APP_BACKEND_URL:"https://backend.livhousing.com"}.REACT_APP_IP_DATA_API_KEY||"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",i={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"1",REACT_APP_BACKEND_URL:"https://backend.livhousing.com"}.TRAINING_MEDIA_MAXSIZE,a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"1",REACT_APP_BACKEND_URL:"https://backend.livhousing.com"}.CONVERSATION_MEDIA_MAXSIZE,s={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"1",REACT_APP_BACKEND_URL:"https://backend.livhousing.com"}.REACT_APP_NGROK_BACKEND_URL||"https://backend.livhousing.com"}}]);