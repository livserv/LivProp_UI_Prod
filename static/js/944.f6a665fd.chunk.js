"use strict";(self.webpackChunklib_prop_ui=self.webpackChunklib_prop_ui||[]).push([[944],{82921:(t,c,n)=>{n.r(c),n.d(c,{default:()=>d});var e=n(9950),o=n(28429),a=n(32026),i=n(8478),s=n(15820),r=n(78023),_=n(44414);const d=function(){const{organizationId:t,botId:c,recipientId:n,chatId:d}=(0,o.g)(),[u,E]=e.useState();return e.useEffect((()=>{i.Jt("/bot/".concat(t,"/").concat(c,"/chat/history/").concat(n,"/").concat(d,"?includeBot=1")).then((t=>{var c;const n=(0,a.Yq)(null===(c=t.messages[0])||void 0===c?void 0:c.createdAt);t.botDesign=(0,r.Y)(t.botDesign,{window:{width:"600px",height:"calc(100vh - 120px)"},header:{titleText:n+" (".concat(t.titleText,")")}}),E(t)}),(t=>{console.error("Unable to load chat conversations:",t)}))}),[t,c,n,d]),u?(0,_.jsx)("div",{className:"conversation-history",children:(0,_.jsx)(s.A,{botDesign:u.botDesign,messages:u.messages,showTime:!0})}):(0,_.jsx)("div",{children:"Loading... Please wait..."})}},8478:(t,c,n)=>{n.d(c,{Jt:()=>a,Ne:()=>u,TF:()=>r,bE:()=>i,yJ:()=>s});var e=n(32026),o=n(44364);async function a(t,c){return _("GET",t,c,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function i(t,c){return _("POST",t,c,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function s(t,c){return _("PUT",t,c,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function r(t,c){return _("DELETE",t,c,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function _(t,c,n){let{headers:e,noAuth:o,...a}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i="POST"===t||"PUT"===t||"DELETE"===t;c=u(c,i?void 0:n);const s=n instanceof FormData;if(s||(n=n&&"object"===typeof n&&i?JSON.stringify(n):void 0),e||(e={}),s||(e["Content-Type"]="application/json"),e.Accept="application/json",!1!==o){const t=sessionStorage.getItem("token");t&&(e.Authorization="Bearer ".concat(t))}try{const o=await fetch(c,{...a,headers:e,body:n,method:t}),i=await o.json();if(o.ok){const{data:t,...c}=i;return delete c.status,t&&!Object.keys(c).length?t:i}throw i.message?new Error(i.message):i}catch(_){var r;throw console.error("Error calling API: ",_),null!==(r=_.message)&&void 0!==r&&r.includes("fetch")?new Error("Unable to reach server. Please check your network connectivity and try again."):new Error(_.message)}}const d=(0,e.s8)(o.jn,"/");function u(t,c){if(!t)return t;const n=c&&Object.keys(c);if(null!==n&&void 0!==n&&n.length){const e=n.reduce(((t,n)=>{let e=c[n];return null===e||void 0===e?t:(e="".concat(n,"=").concat(encodeURIComponent(e)),t?"".concat(t,"&").concat(e):e)}),"");e&&(t="".concat(t).concat(t.includes("?")?"&":"?").concat(e))}return t.startsWith("https://")?t:"".concat(d).concat(t)}},32026:(t,c,n)=>{function e(t,c){return t.replace(new RegExp("".concat(o(c),"+$")),"")}function o(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function a(t){const c=new Date(t),n=c.getDate(),e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][c.getMonth()],o=c.getFullYear();return"".concat(e," ").concat(n,", ").concat(o)}function i(t,c,n){if(!c&&!t)return n;t=t||{};const e=Array.isArray(t)?[...t]:{...t};if(c.includes(".")){const o=c.indexOf("."),a=c.substring(0,o),s=c.substring(o+1);e[a]=i(t[a],s,n)}else e[c]=n;return e}function s(t,c){return btoa("".concat(t,"_").concat(c,"_whatsapp_int"))}n.d(c,{G6:()=>i,Yq:()=>a,qW:()=>s,s8:()=>e})},44364:(t,c,n)=>{n.d(c,{DX:()=>s,Og:()=>a,jn:()=>e,pA:()=>i,pR:()=>o});const e="https://backend.livhousing.com",o="c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_BACKEND_URL:"https://backend.livhousing.com"}.TRAINING_MEDIA_MAXSIZE,i={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_BACKEND_URL:"https://backend.livhousing.com"}.CONVERSATION_MEDIA_MAXSIZE,s={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_BACKEND_URL:"https://backend.livhousing.com"}.REACT_APP_NGROK_BACKEND_URL||"https://backend.livhousing.com"}}]);